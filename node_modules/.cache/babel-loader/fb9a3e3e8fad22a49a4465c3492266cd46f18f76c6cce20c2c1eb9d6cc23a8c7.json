{"ast":null,"code":"import Client from '../networking';\nimport { apply } from '../utils/whitelist';\nimport { toCamelCase } from '../utils/camel';\nimport Auth0Error from './error';\nfunction responseHandler(response) {\n  let exceptions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  if (response.ok && response.json) {\n    return toCamelCase(response.json, exceptions);\n  }\n  throw new Auth0Error(response);\n}\nconst attributes = ['name', 'nickname', 'picture', 'user_id', 'user_metadata', 'app_metadata', 'email', 'email_verified', 'given_name', 'family_name'];\n\n/**\n * Auth0 Management API User endpoints\n *\n * @export\n * @see https://auth0.com/docs/api/management/v2#!/Users/\n * @class Users\n */\nexport default class Users {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.client = new Client(options);\n    if (!options.token) {\n      throw new Error('Missing token in parameters');\n    }\n  }\n\n  /**\n   * Returns the user by identifier\n   *\n   * @param {Object} parameters get user by identifier parameters\n   * @param {String} parameters.id identifier of the user to obtain\n   * @returns {Promise}\n   * @see https://auth0.com/docs/api/management/v2#!/Users/get_users_by_id\n   *\n   * @memberof Users\n   */\n  getUser() {\n    let parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const payload = apply({\n      parameters: {\n        id: {\n          required: true\n        }\n      }\n    }, parameters);\n    return this.client.get(`/api/v2/users/${encodeURIComponent(payload.id)}`).then(response => responseHandler(response, {\n      attributes,\n      whitelist: true,\n      rootOnly: true\n    }));\n  }\n\n  /**\n   * Patch a user's `user_metadata`\n   *\n   * @param {Object} parameters patch user metadata parameters\n   * @param {String} parameters.id identifier of the user to patch\n   * @param {Object} parameters.metadata object with attributes to store in user_metadata.\n   * @returns {Promise}\n   * @see https://auth0.com/docs/api/management/v2#!/Users/patch_users_by_id\n   *\n   * @memberof Users\n   */\n  patchUser() {\n    let parameters = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    const payload = apply({\n      parameters: {\n        id: {\n          required: true\n        },\n        metadata: {\n          required: true\n        }\n      }\n    }, parameters);\n    return this.client.patch(`/api/v2/users/${encodeURIComponent(payload.id)}`, {\n      user_metadata: payload.metadata\n    }).then(response => responseHandler(response, {\n      attributes,\n      whitelist: true,\n      rootOnly: true\n    }));\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}