{"ast":null,"code":"import BaseError from './baseError';\nexport default class ParameterError extends BaseError {\n  constructor(expected, actual, missing) {\n    super('Missing required parameters', `Missing required parameters: ${JSON.stringify(missing, null, 2)}`);\n    this.expected = expected;\n    this.actual = actual;\n    this.missing = missing;\n  }\n}\nexport function apply(rules, values) {\n  const {\n    whitelist = true,\n    parameters,\n    aliases = {}\n  } = rules;\n  let mapped = {};\n  let requiredKeys = Object.keys(parameters).filter(key => parameters[key].required).map(key => parameters[key].toName || key);\n  for (let key of Object.keys(values)) {\n    let value = values[key];\n    let parameterKey = aliases[key] || key;\n    let parameter = parameters[parameterKey];\n    if (parameter && value) {\n      mapped[parameter.toName || parameterKey] = value;\n    } else if (value && !whitelist) {\n      mapped[key] = value;\n    }\n  }\n  let missing = requiredKeys.filter(key => !mapped[key]);\n  if (missing.length > 0) {\n    throw new ParameterError(requiredKeys, values, missing);\n  }\n  return mapped;\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}